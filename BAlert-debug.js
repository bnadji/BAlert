var BAlert=function(t,e,n,i,a){String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)});var o=this;BAlert.alertArray=BAlert.alertArray||[];var r=p(BAlert.alertArray)?1:BAlert.alertArray.slice(-1).pop().alertNum()+1;BAlert.alertArray.push(o);var s="A"+r,l=!1,c=null,u=null,d=v(),f={};x(t)?d.content=X(d.content,t):t&&(d.content.raw=t),"number"==typeof e&&(d.timeout=e),x(n)?d.title=X(d.title,n):n&&(d.title.raw=n),!m(i)&&x(i)&&(i=[i]),d.mainButtons=X(d.mainButtons,i),d=X(d,a);function v(){return{position:{X:"c",Y:"15%",staggerX:"~5px",staggerY:"5px"},size:{X:0,Y:0,calcX:null,calcY:null},title:{},content:{size:{X:0,Y:0,calcX:null,calcY:null}},mainButtons:[],exitButton:{icon:null,raw:null,text:"&times;",inlineStyle:"",threshold:3e3,visible:function(){return 0===d.timeout||d.timeout>d.exitButton.threshold}},animStart:{duration:250,delay:0,dir:"top",scale:0,rotate:0,func:"ease-in"},animExit:{duration:350,delay:0,dir:"none",scale:0,rotate:0,func:"ease-out"},callbacks:{onDisplayBegin:null,onDisplayEnd:null,onExitBegin:null,onExitEnd:null,onResize:function(){F()},onTapOutside:function(t){return function(t){t!==BAlert.alertArray[BAlert.alertArray.length-1]||l||q()}(t),!1},onTapInside:null},classPrefix:"bajs_",defaultClasses:{apply:!0,values:{containerDiv:"",alertBoxDiv:"border-radius:0.5rem;width:fit-content;max-width:80%;max-height:80%;font:1rem arial;border:1px solid;background-color:#eee;box-shadow:0px 10px 45px -2px rgba(0,0,0,0.75);",titleDiv:"padding:0.1rem .3rem .3rem;text-align:center",titleIcon:"vertical-align:middle;width:1.5rem;height:1.5rem;margin-top:2px",titleText:"vertical-align:middle;margin-left:2px;font-size:1rem;font-weight:bold",contentDiv:"display:flex;clear:both;padding:0.5rem;overflow:auto",contentIcon:"vertical-align:middle; margin-right:0.5rem;width:1rem;height:1rem;",contentText:"vertical-align:middle; display:table-cell;font-size:1rem",exitButton:"float:right;border:0;padding:0;line-height:0.8rem;background:transparent",exitButtonIcon:"width:1rem;height:1rem",exitButtonText:"font-size:1rem;line-height:0.5rem;vertical-align:top",mainButtonsDiv:"clear:both;text-align:center;padding:0.35rem;display:flow-root",mainButtonsIcon:"vertical-align:middle;width:1rem;height:1rem;margin-right:2px",mainButtonsText:"vertical-align:middle;margin:0 2px",mainButtons:"border-radius:0.5rem;padding:2px;margin: 0.1rem 0.2rem;font-size:0.85rem"}},inlineStyles:{containerDiv:"",alertBoxDiv:"",titleDiv:"",titleIcon:"",titleText:"",contentDiv:"",contentIcon:"",contentText:"",exitButton:"",mainButtonsDiv:"",exitButtonIcon:"",exitButtonText:"",mainButtons:"",mainButtonsIcon:"",mainButtonsText:""},iconsPath:"",startingZIndex:1e3,timeout:0,DEBUG:0}}function p(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function h(t){return t===Object(t)}function m(t){return Array.isArray(t)}function x(t){return h(t)&&!p(t)}function g(t){return f[t]&&f.splice(f.indexOf(t),1),document.body.contains(t)?t.parentNode.removeChild(t):null}function B(t,e,n){window.addEventListener?window.addEventListener(t,e,n):window.attachEvent&&window.attachEvent("on"+t,e)}function b(t,e){window.removeEventListener?window.removeEventListener(t,e):window.detachEvent&&window.detachEvent("on"+t,e)}function y(t){return t?setTimeout(function(){q()},t):null}function w(t,e){t&&t(o)}function D(t){return t*parseFloat(getComputedStyle(document.documentElement).fontSize)}function T(t){var e=(t=t||f.alertBoxDiv).getBoundingClientRect();return[e.width,e.height]}function z(t){var e=(t=t||f.alertBoxDiv).getBoundingClientRect();return[e.left,e.top]}function k(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}function A(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}function E(t,e,n){["","-webkit-","-moz-","-ms-","-o-"].forEach(function(i){t.style.setProperty(i+e,n)})}function C(t,e){t=t||f.alertBoxDiv,e=e||.5,t.style.opacity=e}function I(t,e){(t=t||f.alertBoxDiv).style.visibility=e}function O(t,e){t=t||f.alertBoxDiv,void 0===e&&(e=!1),t.disabled=e}function X(t,e){if(void 0===e)return t;if(!h(e)||m(e)||"function"==typeof e)return t=e;for(var n in e)if(e.hasOwnProperty(n)){if(h(e[n])&&t[n]){t[n]=X(t[n],e[n]);continue}t[n]=e[n]}return t}function Y(){var t="/*Begin BAlert default CSS classes*/";for(var e in d.defaultClasses.values)if(d.defaultClasses.values.hasOwnProperty(e)){t+="\n.bajs_"+e+" {";var n=d.defaultClasses.values[e].trim().split(";");for(var i in n)n[i]&&(t+="\n  "+n[i].trim()+";");t+="\n}\n"}return t+"/*End BAlert default CSS classes*/\n"}function S(t){function e(t,e,a){var o=t.attributes;if(i+=new Array(e*n).join(" ")+"<",a){for(var r="",s=0,l=o.length;s<l;s++)r+="\n"+new Array((e+1)*n).join(" ")+o[s].nodeName+"= '"+o[s].nodeValue+"'";i+=t.tagName+r}else i+="/"+t.tagName;i+=">\n"}var n=4,i="";return function t(n,i){for(e(n,i,!0),n=n.firstElementChild;n;)t(n,++i),e(n,i--,!1),n=n.nextElementSibling}(t,0),e(t,0,!1),i}function P(){d.callbacks.onResize&&d.callbacks.onResize(o)}function N(t){f.alertBoxDiv.contains(t.target)?d.callbacks.onTapInside&&d.callbacks.onTapInside(o):d.callbacks.onTapOutside&&d.callbacks.onTapOutside(o)}function V(t){N(t)}function M(){"center"!==d.position.X&&"Center"!==d.position.X&&"C"!==d.position.X||(d.position.X="c"),"center"!==d.position.Y&&"Center"!==d.position.Y&&"C"!==d.position.Y||(d.position.Y="c"),d.iconsPath.length>0&&"/"!==d.iconsPath.charAt(d.iconsPath.length-1)&&(d.iconsPath+="/"),d.animStart||(d.animStart={duration:0,delay:0}),d.animExit||(d.animExit={duration:0,delay:0}),d.exitButton.raw?(d.exitButton.icon="",d.exitButton.text=""):d.exitButton.icon?d.exitButton.text="":d.exitButton.text||(d.exitButton.text="&times")}function H(t,e,n,i){void 0===i&&(i="");var a=t.appendChild(document.createElement(n));return"BUTTON"===n&&(a.name=e+i),"IMG"===n&&(a.alt=""),a.id=e+i+"_"+s,a.className=d.defaultClasses.apply?"def_"+e+"_"+s:d.classPrefix+e,d.inlineStyles[e]&&(a.style.cssText+=";"+d.inlineStyles[e]),a}function L(t,e,n){var i;void 0===n?(i=d[e],n=""):i=d[e][n];var a=H(t,e,"BUTTON",n);return i.raw?a.innerHTML=i.raw:(i.icon&&(f[e+"Icon"+n]=H(a,e+"Icon","IMG",n),f[e+"Icon"+n].src=d.iconsPath+i.icon),i.text&&(f[e+"Text"+n]=H(a,e+"Text","SPAN",n),f[e+"Text"+n].innerHTML=i.text)),i.inlineStyle&&(a.style.cssText+=";"+i.inlineStyle),a.type="button",a.text=i.text,a.index=parseInt(n,10),a.name=e+n,f[e+n]=a,a.onclick=function(){i.selfDim&&C(a),i.selfDisable&&O(a,!0),i.selfHide&&I(a,"hidden"),i.selfRemove&&setTimeout(function(){g(a)},5),i.onClick&&i.onClick(o,a),i.keepAlert||q()},a}function R(){var t;d.defaultClasses.apply&&function(){(c=document.createElement("style")).type="text/css";var t="";for(var e in d.defaultClasses.values)d.defaultClasses.values.hasOwnProperty(e)&&(t+=".def_"+e+"_"+s+"{"+d.defaultClasses.values[e]+"}\n");c.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(c)}(),t=document.getElementsByTagName("body")[0],f.containerDiv=H(t,"containerDiv","DIV"),f.containerDiv.style.height=A()+"px",f.containerDiv.style.zIndex=d.startingZIndex+r,f.containerDiv.style.position="absolute",f.alertBoxDiv=H(f.containerDiv,"alertBoxDiv","DIV"),f.alertBoxDiv.style.position="fixed",d.exitButton.visible="function"==typeof d.exitButton.visible?d.exitButton.visible(o):d.exitButton.visible,(d.title.text||d.title.icon||d.title.raw||d.exitButton.visible)&&(f.titleDiv=H(f.alertBoxDiv,"titleDiv","DIV"),d.title.raw?f.titleDiv.innerHTML=d.title.raw:(d.title.icon&&(f.titleIcon=H(f.titleDiv,"titleIcon","IMG"),f.titleIcon.src=d.iconsPath+d.title.icon),d.title.text&&(f.titleText=H(f.titleDiv,"titleText","SPAN"),f.titleText.innerHTML=d.title.text)),d.exitButton.visible&&(f.exitButton=L(f.titleDiv,"exitButton"))),(d.content.text||d.content.raw||d.content.icon)&&(f.contentDiv=H(f.alertBoxDiv,"contentDiv","DIV"),d.content.raw?f.contentDiv.innerHTML=d.content.raw:(d.content.icon&&(f.contentIcon=H(f.contentDiv,"contentIcon","IMG"),f.contentIcon.src=d.iconsPath+d.content.icon),d.content.text&&(f.contentText=H(f.contentDiv,"contentText","SPAN"),f.contentText.innerHTML=d.content.text))),function(){if(f.mainButtons=[],!p(d.mainButtons))for(var t in f.mainButtonsDiv=H(f.alertBoxDiv,"mainButtonsDiv","DIV"),d.mainButtons)d.mainButtons.hasOwnProperty(t)&&f.mainButtons.push(L(f.mainButtonsDiv,"mainButtons",t))}(),I(f.alertBoxDiv,"hidden"),function(){x(d.content.size)&&(d.content.size.X&&(d.content.size.calcX=_({raw:d.content.size.X,dir:"h",negOpposite:!1})),d.content.size.Y&&(d.content.size.calcY=_({raw:d.content.size.Y,dir:"v",negOpposite:!1})));d.content.size.calcX&&(f.contentDiv.style.width=d.content.size.calcX.val+d.content.size.calcX.unit);d.content.size.calcY&&(f.contentDiv.style.height=d.content.size.calcY.val+d.content.size.calcY.unit);x(d.size)&&(d.size.X&&(d.size.calcX=_({raw:d.size.X,dir:"h",negOpposite:!1})),d.size.Y&&(d.size.calcY=_({raw:d.size.Y,dir:"v",negOpposite:!1})));d.size.calcX&&(f.alertBoxDiv.style.width=d.size.calcX.val+d.size.calcX.unit);d.size.calcY&&(f.alertBoxDiv.style.height=d.size.calcY.val+d.size.calcY.unit)}(),F()}function F(t,e){void 0!==t&&(2===arguments.length?(d.position.X=t,d.position.Y=e):m(t)&&(d.position.X=t[0],d.position.Y=t[1])),function(){d.position.calcX=_({raw:d.position.X,dir:"h",negOpposite:!0}),d.position.calcY=_({raw:d.position.Y,dir:"v",negOpposite:!0});var t=function(){var t=BAlert.alertArray,e=t.indexOf(o),n=1,i=1,a=o.getConf("position").X,r=o.getConf("position").Y;for(;t[e-n];)a===t[e-n].getConf("position").X&&r===t[e-n].getConf("position").Y&&i++,n+=1;return i}();d.position.calcX.val+=G({raw:d.position.staggerX,dir:"h",negOpposite:!1,size:t}).val,d.position.calcY.val+=G({raw:d.position.staggerY,dir:"v",negOpposite:!1,size:t}).val,f.alertBoxDiv.style.left=d.position.calcX.val+d.position.calcX.unit,f.alertBoxDiv.style.top=d.position.calcY.val+d.position.calcY.unit}()}function j(t){var e="h"===t.dir?k():A();return(t=function(t){var e;if(t.alt=!1,t.isPerc=!1,t.isNeg=!1,t.sign=1,t.unit="px","string"==typeof t.raw&&(t.raw=t.raw.trim()),t.centered=0!==(e=t.raw)&&!e||"c"===t.raw,!t.centered){t.alt="string"==typeof t.raw&&"~"===t.raw.charAt(0),t.alt&&(t.raw=t.raw.substring(1)),t.isPerc="string"==typeof t.raw&&"%"===t.raw.slice(-1),t.isPerc&&(t.raw=t.raw.slice(0,-1)),t.isNeg="string"==typeof t.raw&&"-"===t.raw.slice(0,1)||"number"==typeof t.raw&&t.raw<0,t.sign=t.isNeg?-1:1,t.absVal=Math.abs(parseFloat(t.raw))||0;var n="string"==typeof t.raw?/(\d+\.*\d*)(\D+$)/g.exec(t.raw):null;t.unit=n&&n.length>0?n[n.length-1]:"px"}return t}(t)).centered?t.val=e/2:(t.isPerc&&(t.absVal=t.absVal*e/100),t.isNeg&&t.negOpposite?t.val=e-t.absVal:t.val=t.absVal,t.negOpposite||(t.val*=t.sign),"rem"===t.unit&&(t.val=D(t.val)),t.unit="px"),t}function _(t){var e=T(),n="h"===t.dir?e[0]:e[1];return(t=j(t)).centered?t.val=t.val-n/2:t.isNeg&&t.negOpposite&&(t.val=t.val-n),t}function G(t){return 1===(t=j(t)).size?t.val=0:t.alt?t.val=t.size%2==0?t.absVal:-t.absVal:t.val=(t.size-1)*t.absVal,t.val=t.val*t.sign,"rem"===t.unit&&(t.val=D(t.val)),t.unit="px",t}function U(t){var e,n,i=k(),a=A(),o=z(),r=o[0],s=o[1],l=T(),c=l[0],u=l[1],d=t.scale,f=r+c/2,v=s+u/2;if(m(t.dir))e=j({raw:t.dir[0],dir:"h",negOpposite:!0}).val,n=j({raw:t.dir[1],dir:"v",negOpposite:!0}).val;else switch(t.dir){case"left":e=-c*d/2,n=s+u/2;break;case"top":e=r+c/2,n=-u*d/2;break;case"right":e=i+c*d/2,n=s+u/2;break;case"bottom":e=r+c/2,n=a+u*d/2;break;case"top left":case"left top":e=-c*d/2,n=-u*d/2;break;case"top right":case"right top":e=i+c*d/2,n=-u*d/2;break;case"bottom left":case"left bottom":e=-c*d/2,n=a+u*d/2;break;case"bottom right":case"right bottom":e=i+c*d/2,n=a+u*d/2;break;case"left center":case"center left":e=-c*d/2,n=a/2;break;case"right center":case"center right":e=i+c*d/2,n=a/2;break;case"top center":case"center top":e=i/2,n=-u*d/2;break;case"bottom center":case"center bottom":e=i/2,n=a+u*d/2;break;case"center":case"center center":e=i/2,n=a/2;break;default:e=r+c/2,n=s+u/2}return[e-f,n-v]}function W(t){return"all "+t.duration/1e3+"s "+t.func}function Z(t,e){var n=W(t),i=function(t,e){return"translate("+e[0]+"px,"+e[1]+"px) scale("+t.scale+") "+(t.rotate?"rotate("+360*t.rotate+"deg)":"")}(t,e);E(f.alertBoxDiv,"transform-origin","center"),E(f.alertBoxDiv,"transition",n),E(f.alertBoxDiv,"transform",i)}function $(){var t=0;if(w(d.callbacks.onDisplayBegin),d.animStart.duration){0;var e=X({},d.animStart);e.rotate&&(e.rotate=-d.animStart.rotate),e.duration=0;var n=U(e);Z(e,n),t=5,setTimeout(function(){I(f.alertBoxDiv,"visible");var e=W(d.animStart);E(f.alertBoxDiv,"transition",e),E(f.alertBoxDiv,"transform-origin","center"),E(f.alertBoxDiv,"transform",""),t+=d.animStart.duration,setTimeout(function(){E(f.alertBoxDiv,"transition",""),u=y(d.timeout),w(d.callbacks.onDisplayEnd)},t)},t)}else I(f.alertBoxDiv,"visible"),u=y(d.timeout),w(d.callbacks.onDisplayEnd);d.callbacks.onResize&&B("resize",P),setTimeout(function(){(d.callbacks.onTapOutside||d.callbacks.onTapInside)&&(B("touchstart",V,{passive:!1}),B("click",N))},5)}function q(t){(t=t||d.animExit.delay||0)>0?setTimeout(function(){J()},t):J()}function J(){l=!0,u&&(clearTimeout(u),u=null),w(d.callbacks.onExitBegin);var t=0;if(d.animExit.duration){0;var e=U(d.animExit);Z(d.animExit,e),t=d.animExit.duration}setTimeout(function(){d.callbacks.onResize&&b("resize",P),(d.callbacks.onTapOutside||d.callbacks.onTapInside)&&b("click",N),(d.callbacks.onTapOutside||d.callbacks.onTapInside)&&b("touchstart",V);var t=BAlert.alertArray.indexOf(o);-1!==t&&BAlert.alertArray.splice(t,1),w(d.callbacks.onExitEnd),c&&c.parentNode&&c.parentNode.removeChild(c),g(f.containerDiv),l=!1},t)}this.getConf=function(t){return t?d[t]:d},this.setConf=function(t,e){return 1===arguments.length?d=X(d,t):d[t]=X(d[t],e),this},this.noDefaultClasses=function(){return d.defaultClasses.apply=!1,this},this.getDefaultClasses=function(){return Y()},this.setDefaultClasses=function(t,e){return 1===arguments.length?d.defaultClasses.values=e:d.defaultClasses.values[t]=e,this},this.setDebug=function(t){return t=t||0,d.DEBUG=t,this},this.setIconsPath=function(t){return d.iconsPath=t,this},this.build=function(){return M(),R(),this},this.display=function(t){return M(),function(t){t=t||d.animStart.delay||0,p(f)&&R();t?setTimeout(function(){$()},t):$()}(t),this},this.exit=function(t){return q(t),this},this.move=function(t,e){return F(t,e),this},this.enable=function(t){return O(t,!1),this},this.disable=function(t){return O(t,!0),this},this.hide=function(t){return I(t,"hidden"),this},this.unhide=function(t){return I(t,"visible"),this},this.dim=function(t,e){return C(t,e),this},this.undim=function(t){return C(t,1),this},this.remove=function(t){return g(t),this},this.getPosition=function(){return z()},this.getCenterPosition=function(t){return function(t){var e=(t=t||f.alertBoxDiv).getBoundingClientRect();return[e.left+e.width/2,e.top+e.height/2]}(t)},this.getSize=function(){return T()},this.getStructure=function(t){return S(t=t||f.containerDiv)},this.getElement=function(t){return f[t=t||"alertBoxDiv"]},this.merge=function(t,e){return X(t,e)},this.setCrossBrowserStyle=function(t,e,n){return E(t,e,n),this},this.reset=function(){return d=v(),f={},this},this.version=function(){return"2.6"},this.alertNum=function(){return r},this.conf=d,this.DOM=f};